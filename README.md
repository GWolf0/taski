# Taski

Taski is a modern task management application built with Next.js and Supabase.
It uses a kanban-style workflow (todo, doing, done) and focuses on clean
architecture, explicit data modeling, and real-world authentication flows.

This project is intended as a portfolio piece showcasing full-stack engineering
practices rather than a feature-complete product.

## Index
- [Tech Stack](#tech-stack)
- [Features](#features)
- [Local Setup](#local-setup)
- [Architecture](#architecture)
- [Planned Features](#planned-features)
- [Screenshots](#screenshots)

## Tech Stack
- **Next.js / React** (App Router, Server Actions)
- **Supabase** (PostgreSQL, Authentication)
- **Tailwind CSS & shadcn/ui** (Styling & UI components)
- **Vitest** (Testing)

## Features
- Kanban-style task organization (todo / doing / done)
- Draggable task items within the same column
- Move tasks between columns
- Full task CRUD (create, edit, delete)
- Temporary task management without authentication
- Authentication via email/password, Google, and GitHub
- Up to 3 projects per account
- Light / dark theme support

## Local Setup

### Requirements
- Node.js
- Git
- Docker
- Supabase CLI (for local development)

### Steps
1. Clone the repository
2. Install dependencies
3. Copy `.env.example` to `.env.local` and fill in required values
4. Start Docker
5. Run `supabase start` to launch local Supabase services
6. Verify environment variables generated by the Supabase CLI
7. Run `npm run dev`

## Architecture

This section highlights the most relevant architectural decisions.

### Environment variables
- `.env.example` is tracked and contains required variables with dummy values
- `.env.local` contains actual secrets and is ignored by Git

### Authentication
- Authentication is handled by Supabase Auth
- Supported providers: email/password, Google, GitHub
- Password reset flow:
  - User requests password reset
  - Reset email is sent by Supabase
  - User is redirected to `/auth/update-password?code=...`
  - Code is exchanged for a temporary session
  - Password is updated after session validation
- Auth tokens are stored as cookies instead of localStorage to support
  server-side data fetching via Server Actions

### Database
- PostgreSQL via Supabase
- Row Level Security (RLS) enabled
- Core tables:
  - `profiles` (extends `auth.users`)
  - `projects`

### Supabase clients
- `supabaseClient`
  - Non-service role client
  - Used for most application interactions
- `supabaseAdmin`
  - Service role client
  - Used for privileged operations
- Special care is taken to avoid attaching auth sessions to the service role
  client, which would otherwise bypass RLS unintentionally

### Requests & validation
- All data access is centralized in `/services/requests`
- Requests are implemented as Server Actions
- Zod is used for validation:
  - One schema per table
  - Shared schemas for common inputs (email, password, etc.)

### Converters
- Converters transform raw database responses into strongly typed domain models
- This removes ambiguity and improves type safety across the application

### UI components
- Top-level pages are server components
- Highly interactive sections are delegated to client components
- Auth user data is fetched once at the server level and passed down
- shadcn/ui ensures visual consistency
- Tailwind CSS removes the need for custom CSS files

### Testing
- Focused on request-level testing
- Tests run against a real schema in a test environment
- This results in integration-style tests rather than isolated unit tests
- UI is tested manually

## Planned Features
- Sub-tasks for task items
- Group-based projects with role-based permissions
- Controlled collaborative editing workflows

> These features are intentionally not implemented to keep the project
> within its original scope and focused on core architecture.

## Screenshots
_(Coming soon)_
